<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Invoice</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, sans-serif;
        line-height: 1.5;
        color: #000000;
        background: #ffffff;
        padding: 60px 40px;
        font-size: 14px;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
      }

      /* Logo Section */
      .logo-section {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        margin-bottom: 60px;
      }

      .logo-image {
        width: 80px;
        height: auto;
      }

      .logo-text {
        font-size: 32px;
        font-weight: 700;
        letter-spacing: -0.5px;
        display: flex;
        align-items: center;
      }

      .logo-am {
        color: #2a5b20;
      }
      .logo-credible {
        color: #2a5b20;
      }
      .logo-i {
        color: #367bff;
      }

      /* Invoice Header */
      .invoice-header {
        margin-bottom: 40px;
      }

      .invoice-title {
        font-size: 32px;
        font-weight: 700;
        color: #000000;
        margin-bottom: 24px;
      }

      .invoice-details {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .invoice-detail {
        font-size: 16px;
        color: #374151;
      }

      /* Sender and Recipient */
      .address-section {
        display: flex;
        justify-content: space-between;
        margin-bottom: 40px;
      }

      .address-block {
        flex: 1;
      }

      .address-block:first-child {
        margin-right: 60px;
      }

      .address-title {
        font-size: 18px;
        font-weight: 600;
        color: #000000;
        margin-bottom: 16px;
      }

      .address-content {
        font-size: 16px;
        color: #374151;
        line-height: 1.6;
      }

      /* Amount Due */
      .amount-due {
        text-align: left;
        margin-bottom: 40px;
      }

      .amount-text {
        font-size: 24px;
        font-weight: 600;
        color: #000000;
      }

      /* Table */
      .table-container {
        margin-bottom: 40px;
      }

      .invoice-table {
        width: 100%;
        border-collapse: collapse;
      }

      .invoice-table th {
        text-align: left;
        padding: 16px 0;
        font-size: 14px;
        font-weight: 500;
        color: #6b7280;
        border-bottom: 2px solid #d1d5db;
      }

      /* Horizontal line after table header */
      .table-header-divider {
        border-bottom: 1px solid #e5e7eb;
        margin: 0;
      }

      .invoice-table th:nth-child(2) {
        text-align: center;
      }

      .invoice-table th:nth-child(3),
      .invoice-table th:nth-child(4) {
        text-align: right;
      }

      .invoice-table td {
        padding: 16px 0;
        font-size: 16px;
        color: #000000;
      }

      .invoice-table td:nth-child(2) {
        text-align: center;
      }

      .invoice-table td:nth-child(3),
      .invoice-table td:nth-child(4) {
        text-align: right;
      }

      .description-cell {
        line-height: 1.4;
      }

      .plan-name {
        font-weight: 500;
        margin-bottom: 4px;
      }

      .plan-period {
        font-size: 14px;
        color: #6b7280;
      }

      /* Horizontal line after amount due */
      .amount-divider {
        border-bottom: 1px solid #e5e7eb;
        margin: 20px 0;
      }

      /* Summary Section */
      .summary-section {
        display: flex;
        justify-content: flex-end;
        margin-top: 8px;
      }

      .summary-table {
        width: 300px;
        border-collapse: collapse;
      }

      .summary-table td {
        padding: 8px 0;
        font-size: 16px;
      }

      .summary-table td:first-child {
        text-align: left;
        color: #374151;
      }

      .summary-table td:last-child {
        text-align: right;
        color: #000000;
      }

      .summary-divider {
        border-bottom: 1px solid #e5e7eb;
        height: 1px;
        margin: 8px 0;
      }

      .total-row td {
        font-weight: 600;
        font-size: 18px;
        padding: 8px 0;
      }

      .total-row td:last-child {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 4px;
      }

      /* Page height fix */
      body {
        min-height: auto !important;
        height: auto !important;
        page-break-after: avoid;
        page-break-inside: avoid;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        padding-bottom: 0 !important;
        height: auto !important;
        min-height: auto !important;
      }

      /* Ensure content fits on one page */
      @page {
        size: A4;
        margin: 0;
      }

      /* Force single page */
      html,
      body {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Logo Section -->
      <div class="logo-section">
        <img
          src="file://{{ logo_url }}"
          alt="AmICredible Logo"
          class="logo-image"
        />
        <div class="logo-text">
          <span class="logo-am">Am</span><span class="logo-i">I</span
          ><span class="logo-credible">Credible</span>
        </div>
      </div>

      <!-- Invoice Header -->
      <div class="invoice-header">
        <h1 class="invoice-title">Invoice</h1>
        <div class="invoice-details">
          <div class="invoice-detail">Invoice number: {{ invoice_number }}</div>
          <div class="invoice-detail">Date of issue: {{ issue_date }}</div>
          <div class="invoice-detail">Date due: {{ due_date }}</div>
        </div>
      </div>

      <!-- Sender and Recipient -->
      <div class="address-section">
        <div class="address-block">
          <div class="address-title">AmICredible AI Inc</div>
          <div class="address-content">
            548 Market St<br />
            San Francisco, California 94104<br />
            United States<br />
            hello@amicred.ao
          </div>
        </div>
        <div class="address-block">
          <div class="address-title">Bill to</div>
          <div class="address-content">
            {{ user_name }}<br />
            {{ user_address|linebreaksbr }}<br />
            {{ user_email }}
          </div>
        </div>
      </div>

      <!-- Amount Due -->
      <div class="amount-due">
        <div class="amount-text">${{ amount }} USD due {{ due_date }}</div>
      </div>

      <!-- Table -->
      <div class="table-container">
        <table class="invoice-table">
          <thead>
            <tr>
              <th>Description</th>
              <th>Qty</th>
              <th>Unit price</th>
              <th>Amount</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="description-cell">
                <div class="plan-name">{{ plan_name }}</div>
                <div class="plan-period">{{ period }}</div>
              </td>
              <td>1</td>
              <td>${{ amount }}</td>
              <td>${{ amount }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Summary Section -->
      <div class="summary-section">
        <table class="summary-table">
          <tr>
            <td colspan="2" class="summary-divider"></td>
          </tr>
          <tr>
            <td>Subtotal</td>
            <td>${{ amount }}</td>
          </tr>
          <tr>
            <td colspan="2" class="summary-divider"></td>
          </tr>
          <tr>
            <td>Total excluding tax</td>
            <td>${{ amount }}</td>
          </tr>
          <tr>
            <td colspan="2" class="summary-divider"></td>
          </tr>
          <tr>
            <td>{{ tax_label }}</td>
            <td>${{ tax_amount }}</td>
          </tr>
          <tr>
            <td colspan="2" class="summary-divider"></td>
          </tr>
          <tr class="total-row">
            <td>Amount due</td>
            <td>${{ total_due }} USD</td>
          </tr>
        </table>
      </div>
    </div>
  </body>
</html>
